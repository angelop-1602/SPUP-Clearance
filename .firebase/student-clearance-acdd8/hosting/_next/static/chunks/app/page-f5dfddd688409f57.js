(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2355:(e,t,r)=>{"use strict";r.d(t,{V:()=>o});var s=r(5155);r(2115);var a=r(6874),l=r.n(a),n=r(6766);function o(e){let{currentPage:t="home",showAdminLink:r=!0}=e;return(0,s.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,s.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center h-auto sm:h-16 py-3 sm:py-0",children:[(0,s.jsx)("div",{className:"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-4 mb-3 sm:mb-0",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(n.default,{src:"/SPUP-final-logo.png",alt:"St. Paul University Philippines",width:40,height:40,className:"w-8 h-8 sm:w-10 sm:h-10",priority:!0,unoptimized:!0,onError:e=>{var t;console.log("Logo failed to load, showing fallback");let r=e.target;r.style.display="none";let s=null==(t=r.parentElement)?void 0:t.querySelector(".logo-fallback");s&&(s.style.display="flex")}}),(0,s.jsx)("div",{className:"logo-fallback w-8 h-8 sm:w-10 sm:h-10 bg-primary-600 rounded-full items-center justify-center text-white font-bold text-xs sm:text-sm",style:{display:"none"},children:"SPUP"}),(0,s.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-3",children:(0,s.jsx)("h1",{className:"text-lg sm:text-xl font-semibold text-gray-900 text-center sm:text-left",children:"Student Clearance System"})})]})}),(0,s.jsx)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:(()=>{let e=[];return"home"!==t&&e.push((0,s.jsx)(l(),{href:"/",className:"text-gray-600 hover:text-gray-900 text-sm font-medium px-3 py-2 rounded-md hover:bg-gray-100 transition-colors",children:"New Submission"},"home")),"track"!==t&&e.push((0,s.jsx)(l(),{href:"/track",className:"text-gray-600 hover:text-gray-900 text-sm font-medium px-3 py-2 rounded-md hover:bg-gray-100 transition-colors",children:"Track Submission"},"track")),r&&"admin"!==t&&e.push((0,s.jsx)(l(),{href:"/admin",className:"text-gray-600 hover:text-gray-900 text-sm font-medium px-3 py-2 rounded-md hover:bg-gray-100 transition-colors",children:"Admin Login"},"admin")),e})()})]})})})}},3141:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});var s=r(5155),a=r(2115);function l(e){let{label:t,accept:r,description:l,file:n,onFileChange:o,error:i}=e,[d,c]=(0,a.useState)(!1),u=(0,a.useRef)(null),m=e=>{if(!e||(e=>{var t;let s=r.split(",").map(e=>e.trim()),a="."+(null==(t=e.name.split(".").pop())?void 0:t.toLowerCase());return s.includes(a)?e.size>0xa00000?"File size must not exceed 10MB":null:"File must be ".concat(r," format")})(e))return void o(null);o(e)},x=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?c(!0):"dragleave"===e.type&&c(!1)};return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[t," *"]}),(0,s.jsxs)("div",{className:"\n          relative border-2 border-dashed rounded-lg p-4 sm:p-6 text-center\n          transition-colors duration-200\n          ".concat(d?"border-primary-400 bg-primary-50":n?"border-green-400 bg-green-50":i?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50 hover:bg-gray-100","\n        "),onDragEnter:x,onDragLeave:x,onDragOver:x,onDrop:e=>{e.preventDefault(),e.stopPropagation(),c(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&m(e.dataTransfer.files[0])},children:[(0,s.jsx)("input",{ref:u,type:"file",accept:r,onChange:e=>{e.target.files&&e.target.files[0]&&m(e.target.files[0])},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),n?(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"text-green-600",children:(0,s.jsx)("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:n.name}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:(e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]})(n.size)})]}),(0,s.jsx)("button",{type:"button",onClick:()=>{m(null),u.current&&(u.current.value="")},className:"text-sm text-red-600 hover:text-red-800 font-medium",children:"Remove File"})]}):(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"text-gray-400 flex justify-center items-center",children:(0,s.jsxs)("svg",{className:"w-10 h-10 sm:w-12 sm:h-12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M12 6L12 8M12 8L12 10M12 8H9.99998M12 8L14 8",stroke:"#1C274C",strokeWidth:"1.5",strokeLinecap:"round"}),(0,s.jsx)("path",{d:"M8 14H9M16 14H12",stroke:"#1C274C",strokeWidth:"1.5",strokeLinecap:"round"}),(0,s.jsx)("path",{d:"M9 18H15",stroke:"#1C274C",strokeWidth:"1.5",strokeLinecap:"round"}),(0,s.jsx)("path",{d:"M3 14V10C3 6.22876 3 4.34315 4.17157 3.17157C5.34315 2 7.22876 2 11 2H13C16.7712 2 18.6569 2 19.8284 3.17157C20.4816 3.82476 20.7706 4.69989 20.8985 6M21 10V14C21 17.7712 21 19.6569 19.8284 20.8284C18.6569 22 16.7712 22 13 22H11C7.22876 22 5.34315 22 4.17157 20.8284C3.51839 20.1752 3.22937 19.3001 3.10149 18",stroke:"#1C274C",strokeWidth:"1.5",strokeLinecap:"round"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{type:"button",onClick:()=>{var e;null==(e=u.current)||e.click()},className:"text-primary-600 hover:text-primary-700 font-medium",children:"Click to upload"}),(0,s.jsx)("span",{className:"text-gray-500",children:" or drag and drop"})]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:[r.toUpperCase()," files only, max 10MB"]})]})]}),l&&(0,s.jsx)("p",{className:"text-xs text-gray-600",children:l}),i&&(0,s.jsx)("p",{className:"text-red-600 text-sm",children:i})]})}var n=r(968),o=r(2596),i=r(9688);function d(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.QP)((0,o.$)(t))}function c(e){let{className:t,...r}=e;return(0,s.jsx)(n.b,{"data-slot":"label",className:d("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...r})}var u=r(1396),m=r(6474),x=r(5196),p=r(7863);function h(e){let{...t}=e;return(0,s.jsx)(u.bL,{"data-slot":"select",...t})}function g(e){let{...t}=e;return(0,s.jsx)(u.WT,{"data-slot":"select-value",...t})}function f(e){let{className:t,size:r="default",children:a,...l}=e;return(0,s.jsxs)(u.l9,{"data-slot":"select-trigger","data-size":r,className:d("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...l,children:[a,(0,s.jsx)(u.In,{asChild:!0,children:(0,s.jsx)(m.A,{className:"size-4 opacity-50"})})]})}function b(e){let{className:t,children:r,position:a="popper",...l}=e;return(0,s.jsx)(u.ZL,{children:(0,s.jsxs)(u.UC,{"data-slot":"select-content",className:d("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...l,children:[(0,s.jsx)(v,{}),(0,s.jsx)(u.LM,{className:d("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:r}),(0,s.jsx)(j,{})]})})}function y(e){let{className:t,children:r,...a}=e;return(0,s.jsxs)(u.q7,{"data-slot":"select-item",className:d("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...a,children:[(0,s.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(u.VF,{children:(0,s.jsx)(x.A,{className:"size-4"})})}),(0,s.jsx)(u.p4,{children:r})]})}function v(e){let{className:t,...r}=e;return(0,s.jsx)(u.PP,{"data-slot":"select-scroll-up-button",className:d("flex cursor-default items-center justify-center py-1",t),...r,children:(0,s.jsx)(p.A,{className:"size-4"})})}function j(e){let{className:t,...r}=e;return(0,s.jsx)(u.wn,{"data-slot":"select-scroll-down-button",className:d("flex cursor-default items-center justify-center py-1",t),...r,children:(0,s.jsx)(m.A,{className:"size-4"})})}function w(e){let{onSubmit:t,isSubmitting:r}=e,[n,o]=(0,a.useState)({level:"undergrad",name:"",email:"",studentId:"",adviser:"",course:"",researchTitle:"",researchType:"Thesis",groupMembers:[{name:"",studentID:""}],documents:{approvalSheet:null,fullPaper:null,longAbstract:null,journalFormat:null}}),[i,d]=(0,a.useState)({}),u=(e,t)=>{o(r=>({...r,[e]:t}))},m=(e,t,r)=>{let s=[...n.groupMembers];s[e]={...s[e],[t]:r},o(e=>({...e,groupMembers:s}))},x=(e,t)=>{o(r=>({...r,documents:{...r.documents,[e]:t}})),t&&d(t=>{let r={...t};return delete r[e],r})};return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-8",children:(0,s.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 lg:p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Student Clearance Submission"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Please fill out all required fields and upload the necessary documents for your clearance request."})]}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(()=>{let e={};return["approvalSheet","fullPaper","longAbstract","journalFormat"].forEach(t=>{n.documents[t]||(e[t]="This document is required")}),d(e),0===Object.keys(e).length})()&&t(n)},className:"space-y-8",children:[(0,s.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Academic Level"}),(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)(c,{htmlFor:"level",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Select your academic level"}),(0,s.jsxs)(h,{value:n.level,onValueChange:e=>u("level",e),children:[(0,s.jsx)(f,{id:"level",className:"w-full",children:(0,s.jsx)(g,{placeholder:"Choose level"})}),(0,s.jsxs)(b,{children:[(0,s.jsx)(y,{value:"undergrad",children:"Undergraduate"}),(0,s.jsx)(y,{value:"grad",children:"Graduate"})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Basic Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),(0,s.jsx)("input",{id:"name",type:"text",required:!0,value:n.name,onChange:e=>u("name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Enter your full name"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),(0,s.jsx)("input",{id:"email",type:"email",required:!0,value:n.email,onChange:e=>u("email",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ".concat(n.email&&!n.email.includes("@")?"border-red-500":"border-gray-300"),placeholder:"your.email@example.com"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"studentId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Student ID *"}),(0,s.jsx)("input",{id:"studentId",type:"text",required:!0,value:n.studentId,onChange:e=>u("studentId",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ".concat(n.studentId&&n.studentId.length<4?"border-red-500":"border-gray-300"),placeholder:"Enter your student ID"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"adviser",className:"block text-sm font-medium text-gray-700 mb-2",children:"Research Adviser *"}),(0,s.jsx)("input",{id:"adviser",type:"text",required:!0,value:n.adviser,onChange:e=>u("adviser",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ".concat(n.adviser&&n.adviser.length<2?"border-red-500":"border-gray-300"),placeholder:"Enter your adviser's name"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"course",className:"block text-sm font-medium text-gray-700 mb-2",children:"Course *"}),(0,s.jsx)("input",{id:"course",type:"text",required:!0,value:n.course,onChange:e=>u("course",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ".concat(n.course&&n.course.length<2?"border-red-500":"border-gray-300"),placeholder:"e.g., BSIT, BSCS, MIT, etc."}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Please enter your course abbreviation (e.g., BSIT, BSCS, MIT)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"researchTitle",className:"block text-sm font-medium text-gray-700 mb-2",children:"Research Title *"}),(0,s.jsx)("input",{id:"researchTitle",type:"text",required:!0,value:n.researchTitle,onChange:e=>u("researchTitle",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Enter your research title"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"researchType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Research Type *"}),(0,s.jsxs)("select",{id:"researchType",required:!0,value:n.researchType,onChange:e=>u("researchType",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[(0,s.jsx)("option",{value:"Thesis",children:"Thesis"}),(0,s.jsx)("option",{value:"Capstone",children:"Capstone"}),(0,s.jsx)("option",{value:"Dissertation",children:"Dissertation"})]})]})]}),"undergrad"===n.level&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Group Members"}),(0,s.jsx)("button",{type:"button",onClick:()=>{o(e=>({...e,groupMembers:[...e.groupMembers,{name:"",studentID:""}]}))},className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded-md text-sm font-medium transition-colors",children:"+ Add Member"})]}),n.groupMembers.map((e,t)=>(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-200 rounded-md",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Member ",t+1," Name"]}),(0,s.jsx)("input",{type:"text",value:e.name,onChange:e=>m(t,"name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Enter member name"})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-end space-y-2 sm:space-y-0 sm:space-x-2",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Student ID"}),(0,s.jsx)("input",{type:"text",value:e.studentID,onChange:e=>m(t,"studentID",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Enter student ID"})]}),n.groupMembers.length>1&&(0,s.jsx)("button",{type:"button",onClick:()=>(e=>{if(n.groupMembers.length>1){let t=n.groupMembers.filter((t,r)=>r!==e);o(e=>({...e,groupMembers:t}))}})(t),className:"bg-red-100 hover:bg-red-200 text-red-700 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Remove"})]})]},t))]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Required Documents"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Please upload all required documents. All files must be in the specified format and under 10MB each."}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsx)(l,{label:"Approval Sheet",accept:".pdf",description:"Upload the scanned approval sheet in PDF format.",file:n.documents.approvalSheet,onFileChange:e=>x("approvalSheet",e),error:i.approvalSheet}),(0,s.jsx)(l,{label:"Full Paper",accept:".docx",description:"Upload the full paper in DOCX format. The ethics clearance must be included in the appendix.",file:n.documents.fullPaper,onFileChange:e=>x("fullPaper",e),error:i.fullPaper}),(0,s.jsx)(l,{label:"Long Abstract",accept:".docx",description:"Upload the long abstract in DOCX format.",file:n.documents.longAbstract,onFileChange:e=>x("longAbstract",e),error:i.longAbstract}),(0,s.jsx)(l,{label:"Journal Format",accept:".docx",description:"Upload the journal in DOCX format.",file:n.documents.journalFormat,onFileChange:e=>x("journalFormat",e),error:i.journalFormat})]})]}),(0,s.jsx)("div",{className:"",children:(0,s.jsx)("button",{type:"submit",disabled:r,className:"w-full py-3 px-4 rounded-md text-white font-medium transition-colors ".concat(r?"bg-gray-400 cursor-not-allowed":"bg-primary hover:bg-primary focus:outline-none focus:ring-2 focus:ring-primary-500"),children:r?"Submitting...":"Submit Clearance Request"})})]})]})})})}var N=r(2355),C=r(6316);function k(){let[e,t]=(0,a.useState)(!1),[r,l]=(0,a.useState)(null),n=async e=>{t(!0);try{let t=await (0,C.cq)(e);l({success:!0,documentId:t})}catch(e){l({success:!1,error:e instanceof Error?e.message:"Submission failed"})}finally{t(!1)}},o=()=>{l(null),window.location.reload()};return(null==r?void 0:r.success)?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:(0,s.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-8 text-center",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"✅"}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Submission Successful!"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"Your clearance request has been submitted successfully."}),(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4 mb-6",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Document ID:"}),(0,s.jsx)("p",{className:"text-sm text-blue-600 font-mono",children:r.documentId}),(0,s.jsx)("p",{className:"text-xs text-blue-600 mt-2",children:"Please save this ID for tracking your submission"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("a",{href:"/track",className:"w-full bg-primary hover:bg-primary/80 text-white font-medium py-3 px-4 rounded-md transition-colors inline-block",children:"Track This Submission"}),(0,s.jsx)("button",{onClick:o,className:"w-full bg-primary hover:bg-primary/80 text-white font-medium py-3 px-4 rounded-md transition-colors",children:"Submit Another Request"})]})]})}):(null==r?void 0:r.error)?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4 sm:p-6",children:(0,s.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 sm:p-8 text-center",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"❌"}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-foreground mb-4",children:"Submission Failed"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:r.error}),(0,s.jsx)("button",{onClick:o,className:"w-full bg-primary hover:bg-primary/80 text-white font-medium py-3 px-4 rounded-md transition-colors",children:"Try Again"})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)(N.V,{currentPage:"home",showAdminLink:!1}),(0,s.jsx)("main",{children:(0,s.jsx)(w,{onSubmit:n,isSubmitting:e})})]})}},4548:(e,t,r)=>{Promise.resolve().then(r.bind(r,3141))},6316:(e,t,r)=>{"use strict";r.d(t,{bN:()=>f,wu:()=>b,Rh:()=>h,hx:()=>p,Bh:()=>y,cq:()=>x,qT:()=>g});var s=r(5317),a=r(7505),l=r(5404),n=r(9311),o=r.n(n);let i=(0,r(3915).Wp)({apiKey:"AIzaSyDQ_OoviqBwI2-po-yFgDmElp5Gu1Roos8",authDomain:"student-clearance-acdd8.firebaseapp.com",projectId:"student-clearance-acdd8",storageBucket:"student-clearance-acdd8.firebasestorage.app",messagingSenderId:"384361416984",appId:"1:384361416984:web:088ba8a9f6be56ad8a366d",measurementId:"G-K0FBFQ3WGD"}),d=(0,l.xI)(i),c=(0,s.aU)(i),u=(0,a.c7)(i);var m=r(9427);async function x(e){try{let t=(0,m.g)(),r=new(o());if(e.documents){let t=Object.entries(e.documents).map(async e=>{let[t,s]=e;if(s){let e=s.name.split(".").pop(),a="";switch(t){case"approvalSheet":a="approval_sheet.".concat(e);break;case"fullPaper":a="full_paper.".concat(e);break;case"longAbstract":a="long_abstract.".concat(e);break;case"journalFormat":a="journal_format.".concat(e);break;default:a="".concat(t,".").concat(e)}let l=await s.arrayBuffer();r.file(a,l)}});await Promise.all(t)}let l=await r.generateAsync({type:"blob"}),n="".concat(t,".zip"),i=(0,a.KR)(u,"submissions/".concat(n)),d=await (0,a.D)(i,l),x=await (0,a.qk)(d.ref),p={id:t,level:e.level,name:e.name,email:e.email,studentId:e.studentId,adviser:e.adviser,course:e.course,researchTitle:e.researchTitle,researchType:e.researchType,zipFile:x,status:"Submitted",submittedAt:s.Dc.fromDate(new Date)};if("undergrad"===e.level&&e.groupMembers&&e.groupMembers.length>0){let t=e.groupMembers.filter(e=>e.name.trim()&&e.studentID.trim());t.length>0&&(p.groupMembers=t)}let h=(0,s.H9)(c,"submissions",t);return await (0,s.BN)(h,p),t}catch(e){throw console.error("Error submitting clearance:",e),Error("Failed to submit clearance request. Please try again.")}}async function p(e){try{let r=(0,s.H9)(c,"submissions",e),a=await (0,s.x7)(r);if(!a.exists())return null;{var t;let e=a.data();return{...e,id:a.id,submittedAt:(null==(t=e.submittedAt)?void 0:t.toDate())||new Date}}}catch(e){throw console.error("Error fetching submission:",e),Error("Failed to fetch submission details")}}async function h(e){try{let t=(0,s.rJ)(c,"submissions"),r=[];(null==e?void 0:e.level)&&"all"!==e.level&&r.push((0,s._M)("level","==",e.level)),(null==e?void 0:e.status)&&"all"!==e.status&&r.push((0,s._M)("status","==",e.status)),(null==e?void 0:e.course)&&r.push((0,s._M)("course","==",e.course)),r.push((0,s.My)("submittedAt","desc"));let a=(await (0,s.GG)((0,s.P)(t,...r))).docs.map(e=>{var t;let r=e.data();return{...r,id:e.id,submittedAt:(null==(t=r.submittedAt)?void 0:t.toDate())||new Date}});if(null==e?void 0:e.searchTerm){let t=e.searchTerm.toLowerCase();a=a.filter(e=>e.name.toLowerCase().includes(t)||e.studentId.toLowerCase().includes(t)||e.researchTitle.toLowerCase().includes(t)||e.email.toLowerCase().includes(t))}return a}catch(e){throw console.error("Error fetching submissions:",e),Error("Failed to fetch submissions")}}async function g(e,t){try{let r=(0,s.H9)(c,"submissions",e);await (0,s.mZ)(r,{status:t})}catch(e){throw console.error("Error updating submission status:",e),Error("Failed to update submission status")}}async function f(e,t){try{if("cprint@spup.edu.ph"!==e)throw Error("Unauthorized email address");return(await (0,l.x9)(d,e,t)).user}catch(e){if(console.error("Error during admin login:",e),e&&"object"==typeof e&&"code"in e){if("auth/user-not-found"===e.code)throw Error("Admin account not found");if("auth/wrong-password"===e.code)throw Error("Invalid password");if("auth/invalid-email"===e.code)throw Error("Invalid email format")}if(e instanceof Error&&"Unauthorized email address"===e.message)throw e;throw Error("Login failed. Please try again.")}}async function b(){try{await (0,l.CI)(d)}catch(e){throw console.error("Error during logout:",e),Error("Logout failed")}}function y(e){return(0,l.hg)(d,e)}},9427:(e,t,r)=>{"use strict";function s(){let e=new Date().getFullYear(),t=Math.random().toString(36).substr(2,6).toUpperCase();return"SPUP_Clearance_".concat(e,"_").concat(t)}function a(e){return/^SPUP_Clearance_\d{4}_[A-Z0-9]{6}$/.test(e)}r.d(t,{f:()=>a,g:()=>s})}},e=>{e.O(0,[135,965,562,537,441,964,358],()=>e(e.s=4548)),_N_E=e.O()}]);